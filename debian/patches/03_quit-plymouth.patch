Author: Yves-Alexis Perez <corsac@debian.org>
Description: quit plymouth instead of deactivating it
plymouth is quitted from the /etc/init.d/plymouth script, but it'll hang if
plymouth has been deactivated before, so just quit it for now.
Bug-Debian: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=632737
Bug: https://bugs.launchpad.net/ubuntu/+source/lightdm/+bug/799069
Index: lightdm-1.0.0/src/xserver-local.c
===================================================================
--- lightdm-1.0.0.orig/src/xserver-local.c	2011-09-28 04:36:58.000000000 +0200
+++ lightdm-1.0.0/src/xserver-local.c	2011-09-28 13:17:05.105082902 +0200
@@ -139,7 +139,7 @@
             g_debug ("X server %s will replace Plymouth", xserver_get_address (XSERVER (self)));
             self->priv->replacing_plymouth = TRUE;
             self->priv->vt = active_vt;
-            plymouth_deactivate ();
+            plymouth_quit (FALSE);
         }
         else
             g_debug ("Plymouth is running on VT %d, but this is less than the configured minimum of %d so not replacing it", active_vt, vt_get_min ());
