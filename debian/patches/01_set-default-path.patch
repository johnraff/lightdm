Author: Yves-Alexis Perez <corsac@debian.org>
Author: Lionel Le Folgoc <mrpouit@gmail.com>
Bug: https://bugs.launchpad.net/ubuntu/+source/lightdm/+bug/798277
Description: Fix default PATH environment variable
Index: lightdm-1.0.4/src/session.c
===================================================================
--- lightdm-1.0.4.orig/src/session.c	2011-10-25 16:42:33.000000000 +0200
+++ lightdm-1.0.4/src/session.c	2011-10-25 23:29:10.621918357 +0200
@@ -251,7 +251,10 @@
     user = pam_session_get_user (session->priv->authentication);
   
     /* Set POSIX variables */
-    session_set_env (session, "PATH", "/usr/local/bin:/usr/bin:/bin");
+    if (user_get_uid (user) == 0)
+      session_set_env (session, "PATH", "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin");
+    else
+      session_set_env (session, "PATH", "/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games");
     session_set_env (session, "USER", user_get_name (user));
     session_set_env (session, "LOGNAME", user_get_name (user));
     session_set_env (session, "HOME", user_get_home_directory (user));
