lightdm (1.5.1-1) UNRELEASED; urgency=low

  * New upstream unstable release.
  * debian/docs: ship NEWS file.                                closes: #689870
  * debian/watch:
    - support .xz tarballs.
  * debian/patches:
    - 01_set-default-path, 03_quit-plymouth, 04_dont-add-pkglibexecdir-path
      and 05_debianize-pam-files refreshed.
  * debian/control:
    - add build-dep on libgcrypt11-dev.
  * debian/rules:
    - enable all hardening flags.
    - fix gdmflexiserver removal
  * debian/lightdm.install:
    - install apparmor profiles.

 -- Yves-Alexis Perez <corsac@debian.org>  Fri, 08 Mar 2013 07:41:46 +0100

lightdm (1.4.0-1) experimental; urgency=low

  * New upstream release.
  * debian/patches:
    - 01_set-default-path, 02_default-config and
      04_dont-add-pkglibexecdir-path refreshed for new release.
    - 05_debianize-pam-files added, Debianize the lightdm and
      lightdm-autologin pam config files.
  * debian/control:
    - suggests upower.                                          closes: #679538
    - make lightdm depends on lightdm-gtk-greeter | lightdm-greeter, thanks
      Ralf Jung for the report.                                 closes: #684714
    - add build-dep on itstool.
  * debian/lightdm.install:
    - stop installing lightdm upstart script since it's broken. closes: #679409
    - install /u/s/help.* 
    - install PAM files
  * debian/rules:
    - stop installing own PAM files.
  * debian/*.pam: drop obsolete PAM files.

 -- Yves-Alexis Perez <corsac@debian.org>  Sun, 07 Oct 2012 09:16:34 +0200

lightdm (1.2.2-3) unstable; urgency=low

  * debian/lightdm.pam:
    - enable pam_loginuid.                                      closes: #677435
  * debian/lightdm.lightdm-autologin.pam added, support auto-login when
    configured in /etc/lightdm/lightdm.conf.                    closes: #636104
  * debian/rules:
    - install both pam files.

 -- Yves-Alexis Perez <corsac@debian.org>  Mon, 18 Jun 2012 21:13:57 +0200

lightdm (1.2.2-2) unstable; urgency=low

  * debian/rules:
    - re-enable tests now that gcc-4.7 has been fixed.

 -- Yves-Alexis Perez <corsac@debian.org>  Wed, 13 Jun 2012 19:51:16 +0200

lightdm (1.2.2-1) unstable; urgency=low

  * Upload to unstable.
  * New upstream release.                                       closes: #673036
  * debian/rules:
    - build with --parallel.
    - disable silent rules so build logs are useful.
    - disable building test for now since it fails with gcc-4.7.
  * debian/*.lintian-overrides added, override warning for hardening
    checks, we do enable build flags.

 -- Yves-Alexis Perez <corsac@debian.org>  Tue, 15 May 2012 22:44:04 +0200

lightdm (1.2.0-1) experimental; urgency=low

  [ Yves-Alexis Perez ]
  * New upstream release.
    - don't leak fds to child processes.                        closes: #658678
  * debian/po:
    - da.po updated, thanks to “Joe Dalton”.                    closes: #650946
  * debian/control:
    - add Provides: on x-display-manager.                       closes: #654343
    - liblightdm-gobject-dev requires libdbus-glib-1-dev and libxklavier-dev
      so add dependencies.
    - drop lightdm-{gtk,qt}-greeter packages since they have been moved to
      standalone packages.
    - rename lightdm-qt-1-0 package to -2-0 to follow soname bump.
    - drop dh-autoreconf build-dep.
    - fix liblightdm*-dev package not depending on the library package itself.
    - update standards version to 3.9.3.
  * debian/watch updated for new tarballs location.
  * debian/patches:
    - 01_set-default-path refreshed.
    - 02_default-config.patch refreshed
      + use lightdm-greeter as greeter name, which is provided as an
        alternative by the various greeters.
    - 04_default-gtk-greeter-config dropped since lightm-gtk-greeter has been
      moved to standalone package.
    - 06_move-progs-to-pkglibexecdir dropped, included upstream.
    - 07_CVE-2011-4105 dropped, code doesn't exist anymore.
    - 08_CVE-2011-3153 dropped, included upstream.
  * debian/rules:
    - don't install libsystem as it's only useful for tests.
    - drop autoreconf since we don't need it anymore.
  * debian/lightdm-{gtk,qt}-greeter.{config.install.templates,postinst,prerm}
    dropped.
  * debian/lightdm.pam:
     - add selinux lines, thanks Laurent Bigonville.            closes: #664805

  [ Lionel Le Folgoc ]
  * debian/patches: add missing DEP3 headers.

 -- Yves-Alexis Perez <corsac@debian.org>  Fri, 06 Apr 2012 21:32:13 +0200

lightdm (1.0.6-3) unstable; urgency=low

  * debian/patches:
    - 07_CVE-2011-4105 refreshed, use AC_USE_SYSTEM_EXTENSIONS in configure.ac
      so GNU extensions are used even on kFreeBSD.              closes: #649633
  * debian/rules:
    - explicitly disable introspection. It seems only enabled on kFreeBSD
      builds for some reason.

 -- Yves-Alexis Perez <corsac@debian.org>  Sat, 26 Nov 2011 09:34:47 +0100

lightdm (1.0.6-2) unstable; urgency=high

  * urgency=high for security fixes.
  * debian/patches:
    - 07_CVE-2011-4105 added, make sure the file is not a link when chowning
      it. (CVE-2011-4105)
    - 08_CVE-2011-3153 added, fix information disclosure by droping privileges
      before reading and re-writing ~/.dmrc.

 -- Yves-Alexis Perez <corsac@debian.org>  Tue, 15 Nov 2011 21:39:30 +0100

lightdm (1.0.6-1) unstable; urgency=high

  * New upstream release, urgency=high for security fix.
    - fix .Xauthority ownership using lchown() (CVE-2011-4105)

 -- Yves-Alexis Perez <corsac@debian.org>  Fri, 04 Nov 2011 20:54:52 +0100

lightdm (1.0.4-1) unstable; urgency=low

  * New upstream release.
  * debian/patches:
    - 01_set-default-path refreshed.

 -- Yves-Alexis Perez <corsac@debian.org>  Wed, 26 Oct 2011 07:29:19 +0200

lightdm (1.0.3-1) unstable; urgency=low

  * New upstream release.
  * debian/watch updated to only track stable releases.
  * debian/patches:
    - 01_set-default-path and 05_dont-add-pkglibexecdir-path refreshed for new
      upstream release.
    - 06_move-lightdm-set-defaults-to-pkglibexecdir renamed to
      06_move-progs-to-pkglibexecdir, use the same patch to move
      lightdm-guest-session-wrapper to pkglibexecdir and refresh the original
      patch for new upstream.
  * debian/lightdm.install:
    - install lightdm-guest-session-wrapper.

 -- Yves-Alexis Perez <corsac@debian.org>  Sat, 08 Oct 2011 13:39:15 +0200

lightdm (1.0.2-1) unstable; urgency=low

  * New upstream release.
    - don't use autologin pam service, fix startup.             closes: #643844
  * debian/control:
    - add recommends on policykit-1 to greeters.                closes: #643292
  * debian/patches:
    - 05_dont-add-pkglibexecdir-path refreshed for new upstream release.

 -- Yves-Alexis Perez <corsac@debian.org>  Thu, 06 Oct 2011 07:41:40 +0200

lightdm (1.0.0-3) unstable; urgency=low

  * debian/lightdm-{gtk,qt}.{postinst,prerm}:
    - don't use dpkg-architecture since it's in dpkg-dev.       closes: #643792

 -- Yves-Alexis Perez <corsac@debian.org>  Thu, 29 Sep 2011 22:26:18 +0200

lightdm (1.0.0-2) unstable; urgency=low

  * debian/rules:
    - correctly enable pie and bindnow.
    - use a variable for multi-arch path instead of *.
    - use autoreconf dh addon
  * debian/control:
    - add build-dep on dh-autoreconf and gtk-doc-tools
  * debian/patches:
    - 06_move-lightdm-set-defaults-to-pkglibexecdir added, move
      lightdm-set-defaults to pkglibexecdir instead of libexecdir.
  * debian/lightdm-{gtk,qt}-greeter.{postinst,prerm}:
    - use variable for multi-arch path instead of *.
    - update lightdm-set-defaults path to re-add lightdm folder.

 -- Yves-Alexis Perez <corsac@debian.org>  Thu, 29 Sep 2011 12:09:35 +0200

lightdm (1.0.0-1) unstable; urgency=low

  * New upstream release.
  * debian/patches:
    - all patches refreshed
    - 02_default-config: explicitly disable tcp listen.
  * debian/rules:
    - drop all hardening rules now done by dh in compat mode 9, but manually
      add pie and bindnow.
    - add -Wl,--as-needed -Wl,-O1 to LDFLAGS.
    - update gdmflexiserver path for multi-arch paths.
  * debian/compat bumped to 9.
  * debian/control:
    - added build-deb on dpkg-dev (>= 1.16.1) for hardening support.
    - dropped hardening-includes from build-depends, now superseded
    - update debhelper build-dep to 9 for compat mode v9.
    - add Pre-Depends: ${misc:Pre-Depends} to the lib packages.
    - add Recommends: on gnome-icon-theme to gtk greeter.       closes: #643291
  * debian/liblightdm-gobject-1-0.install,
    debian/liblightdm-gobject-dev.install, debian/liblightdm-qt-1-0.install,
    debian/liblightdm-qt-dev.install, debian/lightdm.install:
    - update to use multi-arch folders.
  * debian/lightdm.install:
    - in v9 compat mode, libexecdir doesn't have the package name added so
      update in consequence
  * debian/liblightdm*.{postinst,prerm}:
    - update path to lightdm-set-defaults.
  * debian/lightdm.postinst:
    - don't fail if one can't reload dbus, like in a chroot.    closes: #642295

 -- Yves-Alexis Perez <corsac@debian.org>  Thu, 29 Sep 2011 07:39:18 +0200

lightdm (0.9.7-1) unstable; urgency=low

  * New upstream release.
    - fix consolekit session issues.

 -- Yves-Alexis Perez <corsac@debian.org>  Fri, 16 Sep 2011 08:01:12 +0200

lightdm (0.9.6-1) unstable; urgency=low

  * New upstream release:
    - don't write user files as root to prevent symlinks attacks
      [CVE-2011-3349]                                           closes: #639151
  * debian/patches:
    - 01_set-default-path, 02_default-config, 03_quit-plymouth,
      04_default-gtk-greeter-config refreshed.
    - 05_always-export-XAUTHORITY dropped, included upstream. 
    - 05_dont-add-pkglibexecdir-path added, don't add /usr/lib/lightdm/lightdm
      to the PATH, it's ugly.
  * debian/rules:
    - don't install gdmflexiserver script for now until the PATH issue is
      solved.
  * debian/lightdm.install
    - install lightdm-set-default and dm-tool there.
  * debian/lightdm-{gtk,qt}-greeter.{config,templates,postinst,prerm}:
    - provide a way to select the current greeter through debconf. Other
      packages providing a greeter use the same templates/config to register
      themselves in debconf.
  * debian/control:
    - add suggests on accountsservice.

 -- Yves-Alexis Perez <corsac@debian.org>  Thu, 15 Sep 2011 11:36:21 +0200

lightdm (0.9.2-3) unstable; urgency=low

  * debian/patches:
    - 05_always-export-XAUTHORITY added, always export path to xauth file.
  * debian/lightdm-xsession.desktop:
    - provide a default xsession desktop file.                  closes: #636111

 -- Yves-Alexis Perez <corsac@debian.org>  Sat, 06 Aug 2011 11:34:57 +0200

lightdm (0.9.2-2) unstable; urgency=low

  * debian/control;
    - use real package name in greeter dependency.              closes: #636020
    - recommends desktop-base (for default background) and
      gnome-theme-standards (for Adwaita GTK+ 3 theme) in GTK+ greeter.
  * debian/patches:
    - 04_default-gtk-greeter-config added, tune GTK+ greeter config to match
      Debian themes.

 -- Yves-Alexis Perez <corsac@debian.org>  Sat, 30 Jul 2011 20:03:59 +0200

lightdm (0.9.2-1) unstable; urgency=low

  * New upstream release.
  * debian/lightdm.install:
    - install locale files in lightdm package.
  * debian/rules:
    - set greeter user at build time.
  * debian/control:
    - rename the greeter packages to fit what's in Ubuntu.
    - lightdm-vala doesn't provide a greeter anymore.
  * debian/lightdm{,-gtk-greeter}.install:
    - ship GTK+ greeter config file in the lightdm-gtk-greeter package.
  * debian/lightdm.{config,templates} and debian/po debconf files added from
    Ubuntu package.

 -- Yves-Alexis Perez <corsac@debian.org>  Fri, 29 Jul 2011 20:32:36 +0200

lightdm (0.9.0-1) unstable; urgency=low

  * Initial release.                                            closes: #615591

 -- Yves-Alexis Perez <corsac@debian.org>  Thu, 28 Jul 2011 22:39:44 +0200
